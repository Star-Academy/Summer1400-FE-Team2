<app-spinner *ngIf="isLoading"></app-spinner>
<main *ngIf="!isLoading">
    <section class="playlist-details">
        <div class="playlist-details__image">
            <img id="playlist-img" [src]="playlist?.cover || '../assets/images/song.jpg'" alt="playlist-image" />
        </div>
        <div class="playlist-details__content">
            <p>لیست اهنگ</p>
            <h1>{{ playlist?.name }}</h1>
            <div class="flex songsListDetails">
                <span>{{ playlist?.songs?.length || 0 }} آهنگ </span>
            </div>
        </div>
    </section>

    <section class="playlist-controls__container">
        <div class="playlist-controls">
            <button id="playMusicBtn" (click)="onPlay()">
        <img [src]="playBtnSrc" alt="" />
      </button>
            <button id="like-songs">
        <img
          class="svg-button"
          id="likeEmpty-svg"
          src="../assets/Icons/like-button-empty.svg"
          alt=""
        />
      </button>
            <button appClickStopPropagation id="detail-button" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon class="mat-icon-detail detialBtn">more_horiz</mat-icon>
      </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="onDeleteBtn()">
          <span>حذف پلی لیست</span>
          <mat-icon>delete</mat-icon>
        </button>
                <button mat-menu-item routerLink="/home">
          <span>افزودن اهنگ</span>
          <mat-icon>add_circle</mat-icon>
        </button>
            </mat-menu>
        </div>
        <div class="playlist-table">
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>عنوان</th>
                        <th>آلبوم</th>
                        <th>زمان</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="playlist-table__body">
                    <app-song-item (deleteEventEmitter)="refresh()" *ngFor="let song of playlist?.songs; let i = index" [Index]="i" [Song]="song" [Playlist]="playlist"></app-song-item>
                </tbody>
            </table>
        </div>
    </section>
</main>